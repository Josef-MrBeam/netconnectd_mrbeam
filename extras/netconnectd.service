[Unit]
Description=A deamon to configure network connections
After=network.target

[Service]
User=root
Environment=DAEMON=/usr/local/netconnectd/venv/bin/netconnectd
Environment=CONFIGFILE=/etc/netconnectd.conf.d/netconnectd.yaml
Environment=SOCKET=/var/run/netconnectd.sock
Environment=PIDFILE=/var/run/netconnectd.pid
Environment=LOGFILE=/var/log/netconnectd.log
EnvironmentFile=-/etc/default/netconnectd
ExecStart=/bin/sh -c "${DAEMON} --pid ${PIDFILE} --config ${CONFIGFILE} --address ${SOCKET} --logfile ${LOGFILE} $EXTRA_OPTS >/tmp/netconnectd"
ExecStopPost=rm -f ${SOCKET}
PIDFile=${PIDFILE}
Type=forking

[Install]
WantedBy=multi-user.target
